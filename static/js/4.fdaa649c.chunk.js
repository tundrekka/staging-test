(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[4],{181:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));var c=n(1),a=n.n(c),r=n(27),s=n(43),i=n(29),l=n(4),o=n(85),j=n.n(o),b=n(5),u=function(e){var t=e.id,n=e.date,c=e.title,a=e.body,s=e.url,l=Object(r.b)(),o=j()(n),u="";u=c.length>30?c.slice(0,30)+"...":c;var d="";return d=a.length>50?a.slice(0,50)+"...":a,Object(b.jsxs)("div",{className:"journal__entry pointer",onClick:function(){l(Object(i.a)(t,{date:n,title:c,body:a,url:s})),document.querySelector("main").classList.toggle("toggle")},children:[s&&Object(b.jsx)("div",{className:"journal__entry-picture",style:{backgroundSize:"cover",backgroundImage:"url(".concat(s,")")}}),Object(b.jsxs)("div",{className:"journal__entry-body",children:[Object(b.jsx)("p",{className:"journal__entry-title",children:u}),Object(b.jsx)("p",{className:"journal__entry-content",children:d})]}),Object(b.jsxs)("div",{className:"journal__entry-date-box",children:[Object(b.jsx)("span",{children:o.format("MMMM")}),Object(b.jsx)("h4",{children:o.format("Do")})]})]})},d=function(){var e=Object(r.c)((function(e){return e.notes})).notes;return 0===e.length?Object(b.jsx)("div",{style:{textAlign:"center"},className:"journal__entries",children:"Notes..."}):Object(b.jsx)("div",{className:"journal__entries",children:e.map((function(e){return Object(b.jsx)(u,Object(l.a)({},e),e.id)}))})},m=a.a.memo((function(e){var t=e.handleAddNote,n=window.innerWidth<650;return window.onresize=function(){n=window.innerWidth<650},n=window.innerWidth<650,Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"journal__new-entry",onClick:t,children:[Object(b.jsx)("i",{className:"far fa-calendar-plus fa-4x"}),Object(b.jsx)("p",{className:"mt-5",children:"New Note"})]}),n&&Object(b.jsx)("button",{className:"btn btn-primary-light",style:{marginTop:"1.2em",padding:".5em 1em",marginBottom:".8em"},onClick:function(){document.querySelector("main").classList.toggle("toggle")},children:"Notes"}),Object(b.jsx)(d,{})]})})),O=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.auth})).name;return Object(b.jsxs)("aside",{className:"journal__sidebar",children:[Object(b.jsxs)("div",{className:"journal__sidebar-navbar",children:[Object(b.jsxs)("h3",{className:"",children:[Object(b.jsx)("i",{className:"far fa-moon"}),Object(b.jsxs)("span",{children:[" ",t," "]})]}),Object(b.jsx)("button",{className:"btn",onClick:function(){e(Object(s.d)())},id:"logout-button",children:"Logout"})]}),Object(b.jsx)(m,{handleAddNote:function(){e(Object(i.e)())}})]})},f=n(35),h=n(7),g=n.n(h),x=function(){var e=Object(r.c)((function(e){return e.notes})).active,t=Object(r.b)();return Object(b.jsxs)("div",{className:"notes__appbar",id:"appbar",children:[Object(b.jsx)("span",{children:j()(new Date).format("MMM Do YY")}),Object(b.jsx)("input",{id:"fileSelector",name:"file",type:"file",accept:"image/jpg, image/png, image/jpeg",style:{display:"none"},onChange:function(e){var n=e.target.files[0];(n.name.includes(".png")||n.name.includes(".jpg")||n.name.includes(".jpeg"))&&n.type.startsWith("image")&&e.target.files.length<2?(t(Object(i.g)(n,e)),e.target.value=""):(e.target.value="",g.a.fire("Error","The file must be an image, jpg, png or jpeg","error"))}}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"btn btn-danger",onClick:function(){t(Object(i.c)(e.id))},children:"Delete"}),Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){document.querySelector("#fileSelector").click()},children:"Picture"}),Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){t(Object(i.f)(e))},children:"Save"})]})]})},p=n(81),v=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.notes})).active,n=Object(c.useRef)(t.id),a=Object(p.a)(t),s=Object(f.a)(a,3),o=s[0],j=s[1],u=s[2],d=o.body,m=o.title;return Object(c.useEffect)((function(){t.id!==n.current&&(u(t),n.current=t.id)}),[t,u]),Object(c.useEffect)((function(){e(Object(i.a)(o.id,Object(l.a)({},o)))}),[o,e]),Object(b.jsxs)("div",{className:"notes__main-content",children:[Object(b.jsx)(x,{}),Object(b.jsxs)("div",{className:"notes__content",children:[Object(b.jsx)("input",{type:"text",placeholder:"Some cool title",className:"notes__title-input",autoComplete:"off",value:m,name:"title",onChange:j}),Object(b.jsx)("textarea",{placeholder:"What happened today",className:"notes__textarea",value:d,name:"body",onChange:j}),t.url&&Object(b.jsx)("div",{className:"notes__image",children:Object(b.jsx)("a",{rel:"noreferrer",href:t.url,target:"_blank",children:Object(b.jsx)("img",{src:t.url,alt:"imagen"})})})]})]})},_=function(){return Object(b.jsxs)("div",{className:"nothing__main-content",children:[Object(b.jsxs)("p",{children:["Select something",Object(b.jsx)("br",{}),"or create an entry!"]}),Object(b.jsx)("i",{className:"far fa-star fa-4x mt-5"})]})};function N(){var e=Object(r.c)((function(e){return e.notes})).active;return Object(b.jsxs)("div",{className:"journal__main-content",children:[Object(b.jsx)(O,{}),Object(b.jsx)("main",{children:e?Object(b.jsx)(v,{}):Object(b.jsx)(_,{})})]})}},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(44),a=n(4),r=n(35),s=n(1),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.useState)(e),n=Object(r.a)(t,2),i=n[0],l=n[1],o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;l(t)},j=function(e){var t=e.target;l(Object(a.a)(Object(a.a)({},i),{},Object(c.a)({},t.name,t.value)))};return[i,j,o]}}}]);
//# sourceMappingURL=4.fdaa649c.chunk.js.map