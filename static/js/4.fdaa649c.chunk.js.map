{"version":3,"sources":["components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/SidebarGroup.js","components/journal/Sidebar.js","components/notes/NotesAppBar.js","components/notes/NoteScreen.js","components/journal/NothingSelected.js","components/journal/JournalScreen.js","hooks/useForm.js"],"names":["JournalEntry","id","date","title","body","url","dispatch","useDispatch","noteDate","moment","excerptTitle","length","slice","excerptBody","className","onClick","activeNote","document","querySelector","classList","toggle","style","backgroundSize","backgroundImage","format","JournalEntries","notes","useSelector","state","textAlign","map","note","SidebarGroup","React","memo","handleAddNote","mediaQuery","window","innerWidth","onresize","marginTop","padding","marginBottom","Sidebar","name","auth","startLogout","startNewNote","NotesAppBar","active","Date","type","accept","display","onChange","e","file","target","files","includes","startsWith","startUploading","value","Swal","fire","startDeleteNote","click","startUpdateNote","NoteScreen","activeId","useRef","useForm","formValues","handleInputChange","reset","useEffect","current","placeholder","autoComplete","rel","href","src","alt","NothingSelected","JournalScreen","initialState","useState","values","setValues","newFormState"],"mappings":"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","file":"static/js/4.fdaa649c.chunk.js","sourcesContent":["import moment from 'moment'\nimport React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { activeNote } from '../../actions/notes'\n\nexport const JournalEntry = ({id, date, title, body, url}) => {\n    const dispatch = useDispatch()\n    const noteDate = moment(date)\n\n    const handleEntryClick = () => {\n        dispatch( activeNote(id, {date, title, body, url}) )\n        document.querySelector('main').classList.toggle('toggle')\n    }\n    \n    let excerptTitle = ''\n    if( title.length > 30 ) excerptTitle = title.slice( 0, 30 ) + '...'\n    else excerptTitle = title\n\n    let excerptBody = ''\n    if( body.length > 50 ) excerptBody = body.slice( 0, 50 ) + '...'\n    else excerptBody = body\n\n    return (\n        <div \n            className=\"journal__entry pointer\"\n            onClick={handleEntryClick}\n        >\n           \n            {\n                url &&\n                <div \n                    className=\"journal__entry-picture\"\n                    style={{\n                        backgroundSize: 'cover',\n                        backgroundImage: `url(${url})`\n                    }}\n                ></div>\n            }\n\n            <div className=\"journal__entry-body\">\n                <p className=\"journal__entry-title\">\n                    { excerptTitle }\n                </p>\n                <p className=\"journal__entry-content\">\n                    { excerptBody }\n                </p>\n            </div>\n\n            <div className=\"journal__entry-date-box\">\n                <span>{noteDate.format('MMMM')}</span>\n                <h4>{noteDate.format('Do')}</h4>\n            </div>\n           \n        </div>\n    )\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux';\nimport { JournalEntry } from './JournalEntry';\n\nexport const JournalEntries = () => {\n\n    const {notes} = useSelector(state => state.notes)\n\n    if( notes.length === 0 ) {\n        return <div style={{textAlign: 'center'}} className=\"journal__entries\">Notes...</div>\n    }\n    return (\n        <div className=\"journal__entries\">\n            \n            {\n                notes.map( note => (\n                    <JournalEntry \n                        key={ note.id }\n                        { ...note }\n                    />\n                ))\n            }\n\n        </div>\n    )\n}\n","import React from 'react'\r\nimport { JournalEntries } from './JournalEntries'\r\n\r\nexport const SidebarGroup = React.memo(({handleAddNote}) => {\r\n\r\n   const handleShow = () => {\r\n      document.querySelector('main').classList.toggle('toggle')\r\n   }\r\n   let mediaQuery = window.innerWidth < 650;\r\n   window.onresize = () => {\r\n      mediaQuery = window.innerWidth < 650;\r\n   }\r\n   mediaQuery = window.innerWidth < 650\r\n\r\n   return (\r\n      <>\r\n      <div className=\"journal__new-entry\"\r\n         onClick={handleAddNote}>\r\n  \r\n            <i className=\"far fa-calendar-plus fa-4x\"></i>\r\n            <p className=\"mt-5\">\r\n               New Note\r\n            </p>\r\n      </div>\r\n      {\r\n         mediaQuery &&\r\n         <button className=\"btn btn-primary-light\" style={{marginTop: '1.2em', padding: '.5em 1em', marginBottom: '.8em'}} onClick={handleShow}>Notes</button> \r\n      }\r\n\r\n      <JournalEntries />    \r\n         \r\n      </>\r\n   )\r\n})\r\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\n\n// import { JournalEntries } from './JournalEntries'\nimport { startLogout } from '../../actions/auth';\nimport { startNewNote } from '../../actions/notes';\nimport { SidebarGroup } from './SidebarGroup';\nexport const Sidebar = () => {\n\n    const dispatch = useDispatch()\n    const {name} = useSelector(state => state.auth)\n\n    const handleLogout = () => {\n        dispatch( startLogout() )\n    }\n\n    const handleAddNote = () => {\n        dispatch( startNewNote() )\n    }\n\n    return (\n        <aside className=\"journal__sidebar\">\n            \n            <div className=\"journal__sidebar-navbar\">\n                <h3 className=\"\">\n                    <i className=\"far fa-moon\"></i>\n                    <span> {name} </span>\n                </h3>\n\n                <button \n                className=\"btn\"\n                onClick={handleLogout}\n                id=\"logout-button\"\n                >\n                    Logout\n                </button>\n            </div>\n            \n            <SidebarGroup handleAddNote={handleAddNote} />\n\n        </aside>\n    )\n}\n","import moment from 'moment'\nimport React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Swal from 'sweetalert2'\nimport { startDeleteNote, startUpdateNote, startUploading } from '../../actions/notes'\n\nexport const NotesAppBar = () => {\n\n    const {active} = useSelector(state => state.notes)\n\n    const dispatch = useDispatch()\n\n    const handleUpdate = () => {\n        dispatch( startUpdateNote( active ) )\n    }\n    const handlePictureClick = () => {\n        document.querySelector('#fileSelector').click()\n    }\n\n    const handleFileChange = (e) => {\n        const file = e.target.files[0]\n        if( ( file.name.includes('.png') || file.name.includes('.jpg') || file.name.includes('.jpeg') ) && file.type.startsWith('image') && e.target.files.length < 2 ) {\n            dispatch( startUploading(file, e))\n            e.target.value = ''\n        } else {\n            e.target.value = ''\n            Swal.fire('Error', 'The file must be an image, jpg, png or jpeg', 'error')\n        }\n    }\n\n    const handleDelete = () => {\n        dispatch( startDeleteNote(active.id) )\n    }\n\n\n    return (\n        <div className=\"notes__appbar\" id=\"appbar\">\n            <span>{moment(new Date()).format('MMM Do YY')}</span>\n\n            <input\n                id=\"fileSelector\" \n                name='file'\n                type=\"file\"\n                accept=\"image/jpg, image/png, image/jpeg\"\n                style={{display: 'none'}}\n                onChange={handleFileChange}\n            />\n\n            <div>\n                <button className=\"btn btn-danger\"\n                    onClick={handleDelete}\n                >\n                    Delete\n                </button>\n\n                <button className=\"btn btn-primary\"\n                    onClick={handlePictureClick}\n                >\n                    Picture\n                </button>\n\n                <button \n                    className=\"btn btn-primary\"\n                    onClick={handleUpdate}\n                >\n                    Save\n                </button>\n            </div>\n        </div>\n    )\n}\n","import React, { useEffect, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { NotesAppBar } from './NotesAppBar'\nimport {useForm} from '../../hooks/useForm'\nimport { activeNote } from '../../actions/notes'\n\nexport const NoteScreen = () => {\n    const dispatch = useDispatch()\n\n    const {active: note} = useSelector(state => state.notes)\n\n\n    const activeId = useRef(note.id)\n    \n    const [ formValues, handleInputChange, reset ] = useForm(note)\n    const {body, title } = formValues\n\n\n    useEffect(() => {\n        if( note.id !== activeId.current ) {\n            reset( note )\n            activeId.current = note.id\n        }\n    }, [note, reset])\n    \n    useEffect(() => {\n        dispatch( activeNote( formValues.id, { ...formValues }) )\n    }, [formValues, dispatch])\n\n    return (\n        <div className=\"notes__main-content\">\n            \n            <NotesAppBar />\n\n            <div className=\"notes__content\">\n\n                <input \n                    type=\"text\"\n                    placeholder=\"Some cool title\"\n                    className=\"notes__title-input\"\n                    autoComplete=\"off\"\n                    value={title}\n                    name=\"title\"\n                    onChange={handleInputChange}\n                    \n                />\n\n                <textarea\n                    placeholder=\"What happened today\"\n                    className=\"notes__textarea\"\n                    value={body}\n                    name=\"body\"\n                    onChange={handleInputChange}\n                ></textarea>\n\n                {\n                    note.url \n                    &&\n                    \n                    <div className=\"notes__image\">\n                        <a rel=\"noreferrer\" href={note.url} target=\"_blank\">\n                        <img \n                            src={note.url}\n                            alt=\"imagen\"\n                        />\n                        </a>\n                    </div>\n                    \n                }\n\n            </div>\n\n        </div>\n    )\n}\n","import React from 'react'\n\nexport const NothingSelected = () => {\n    return (\n        <div className=\"nothing__main-content\">\n            <p>\n                Select something\n                <br />\n                or create an entry!\n            </p>\n\n            <i className=\"far fa-star fa-4x mt-5\"></i>\n\n        </div>\n    )\n}\n","import React from 'react';\nimport { Sidebar } from './Sidebar';\nimport { NoteScreen } from '../notes/NoteScreen';\nimport { useSelector } from 'react-redux';\nimport { NothingSelected } from './NothingSelected';\n\n\nexport default function JournalScreen() {\n    \n\n    const {active} = useSelector(state => state.notes)\n\n    return (\n        <div className=\"journal__main-content\">\n            \n            <Sidebar />\n\n\n            <main>\n                {\n                    active\n                    ? <NoteScreen />\n                    : <NothingSelected />\n                }\n\n            </main>\n\n\n        </div>\n    )\n}\n","import { useState } from 'react'\n\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState(initialState);\n\n    const reset = ( newFormState = initialState ) => {\n        setValues( newFormState );\n    }\n\n    const handleInputChange = ({ target }) => {\n\n        setValues({\n            ...values,\n            [ target.name ]: target.value\n        });\n\n    }\n\n    return [ values, handleInputChange, reset ];\n\n}\n"],"sourceRoot":""}